(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var r;e.g.importScripts&&(r=e.g.location+"");var n=e.g.document;if(!r&&n&&(n.currentScript&&(r=n.currentScript.src),!r)){var t=n.getElementsByTagName("script");t.length&&(r=t[t.length-1].src)}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=r+"../"})();const r={blue1:e.p+"assets/MythicCards/blue/blue1.png",blue2:e.p+"assets/MythicCards/blue/blue2.png",blue3:e.p+"assets/MythicCards/blue/blue3.png",blue4:e.p+"assets/MythicCards/blue/blue4.png",blue5:e.p+"assets/MythicCards/blue/blue5.png",blue6:e.p+"assets/MythicCards/blue/blue6.png",blue7:e.p+"assets/MythicCards/blue/blue7.png",blue8:e.p+"assets/MythicCards/blue/blue8.png",blue9:e.p+"assets/MythicCards/blue/blue9.png",blue10:e.p+"assets/MythicCards/blue/blue10.png",blue11:e.p+"assets/MythicCards/blue/blue11.png",blue12:e.p+"assets/MythicCards/blue/blue12.png"},n=[{id:"blue1",cardFace:r.blue1,difficulty:"hard",color:"blue"},{id:"blue2",cardFace:r.blue2,difficulty:"hard",color:"blue"},{id:"blue3",cardFace:r.blue3,difficulty:"easy",color:"blue"},{id:"blue4",cardFace:r.blue4,difficulty:"easy",color:"blue"},{id:"blue5",cardFace:r.blue5,difficulty:"easy",color:"blue"},{id:"blue6",cardFace:r.blue6,difficulty:"hard",color:"blue"},{id:"blue7",cardFace:r.blue7,difficulty:"normal",color:"blue"},{id:"blue8",cardFace:r.blue8,difficulty:"hard",color:"blue"},{id:"blue9",cardFace:r.blue9,difficulty:"normal",color:"blue"},{id:"blue10",cardFace:r.blue10,difficulty:"easy",color:"blue"},{id:"blue11",cardFace:r.blue11,difficulty:"normal",color:"blue"},{id:"blue12",cardFace:r.blue12,difficulty:"normal",color:"blue"}],t={brown1:e.p+"assets/MythicCards/brown/brown1.png",brown2:e.p+"assets/MythicCards/brown/brown2.png",brown3:e.p+"assets/MythicCards/brown/brown3.png",brown4:e.p+"assets/MythicCards/brown/brown4.png",brown5:e.p+"assets/MythicCards/brown/brown5.png",brown6:e.p+"assets/MythicCards/brown/brown6.png",brown7:e.p+"assets/MythicCards/brown/brown7.png",brown8:e.p+"assets/MythicCards/brown/brown8.png",brown9:e.p+"assets/MythicCards/brown/brown9.png",brown10:e.p+"assets/MythicCards/brown/brown10.png",brown11:e.p+"assets/MythicCards/brown/brown11.png",brown12:e.p+"assets/MythicCards/brown/brown12.png",brown13:e.p+"assets/MythicCards/brown/brown13.png",brown14:e.p+"assets/MythicCards/brown/brown14.png",brown15:e.p+"assets/MythicCards/brown/brown15.png",brown16:e.p+"assets/MythicCards/brown/brown16.png",brown17:e.p+"assets/MythicCards/brown/brown17.png",brown18:e.p+"assets/MythicCards/brown/brown18.png",brown19:e.p+"assets/MythicCards/brown/brown19.png",brown20:e.p+"assets/MythicCards/brown/brown20.png",brown21:e.p+"assets/MythicCards/brown/brown21.png"},a=[{id:"brown1",cardFace:t.brown1,difficulty:"normal",color:"brown"},{id:"brown2",cardFace:t.brown2,difficulty:"normal",color:"brown"},{id:"brown3",cardFace:t.brown3,difficulty:"normal",color:"brown"},{id:"brown4",cardFace:t.brown4,difficulty:"normal",color:"brown"},{id:"brown5",cardFace:t.brown5,difficulty:"normal",color:"brown"},{id:"brown6",cardFace:t.brown6,difficulty:"hard",color:"brown"},{id:"brown7",cardFace:t.brown7,difficulty:"hard",color:"brown"},{id:"brown8",cardFace:t.brown8,difficulty:"hard",color:"brown"},{id:"brown9",cardFace:t.brown9,difficulty:"hard",color:"brown"},{id:"brown10",cardFace:t.brown10,difficulty:"hard",color:"brown"},{id:"brown11",cardFace:t.brown11,difficulty:"easy",color:"brown"},{id:"brown12",cardFace:t.brown12,difficulty:"easy",color:"brown"},{id:"brown13",cardFace:t.brown13,difficulty:"easy",color:"brown"},{id:"brown14",cardFace:t.brown14,difficulty:"easy",color:"brown"},{id:"brown15",cardFace:t.brown15,difficulty:"normal",color:"brown"},{id:"brown16",cardFace:t.brown16,difficulty:"normal",color:"brown"},{id:"brown17",cardFace:t.brown17,difficulty:"normal",color:"brown"},{id:"brown18",cardFace:t.brown18,difficulty:"normal",color:"brown"},{id:"brown19",cardFace:t.brown19,difficulty:"normal",color:"brown"},{id:"brown20",cardFace:t.brown20,difficulty:"normal",color:"brown"},{id:"brown21",cardFace:t.brown21,difficulty:"easy",color:"brown"}],s={green1:e.p+"assets/MythicCards/green/green1.png",green2:e.p+"assets/MythicCards/green/green2.png",green3:e.p+"assets/MythicCards/green/green3.png",green4:e.p+"assets/MythicCards/green/green4.png",green5:e.p+"assets/MythicCards/green/green5.png",green6:e.p+"assets/MythicCards/green/green6.png",green7:e.p+"assets/MythicCards/green/green7.png",green8:e.p+"assets/MythicCards/green/green8.png",green9:e.p+"assets/MythicCards/green/green9.png",green10:e.p+"assets/MythicCards/green/green10.png",green11:e.p+"assets/MythicCards/green/green11.png",green12:e.p+"assets/MythicCards/green/green12.png",green13:e.p+"assets/MythicCards/green/green13.png",green14:e.p+"assets/MythicCards/green/green14.png",green15:e.p+"assets/MythicCards/green/green15.png",green16:e.p+"assets/MythicCards/green/green16.png",green17:e.p+"assets/MythicCards/green/green17.png",green18:e.p+"assets/MythicCards/green/green18.png"},o=[{id:"green1",cardFace:s.green1,difficulty:"easy",color:"green"},{id:"green2",cardFace:s.green2,difficulty:"hard",color:"green"},{id:"green3",cardFace:s.green3,difficulty:"hard",color:"green"},{id:"green4",cardFace:s.green4,difficulty:"hard",color:"green"},{id:"green5",cardFace:s.green5,difficulty:"hard",color:"green"},{id:"green6",cardFace:s.green6,difficulty:"hard",color:"green"},{id:"green7",cardFace:s.green7,difficulty:"normal",color:"green"},{id:"green8",cardFace:s.green8,difficulty:"normal",color:"green"},{id:"green9",cardFace:s.green9,difficulty:"normal",color:"green"},{id:"green10",cardFace:s.green10,difficulty:"normal",color:"green"},{id:"green11",cardFace:s.green11,difficulty:"normal",color:"green"},{id:"green12",cardFace:s.green12,difficulty:"easy",color:"green"},{id:"green13",cardFace:s.green13,difficulty:"normal",color:"green"},{id:"green14",cardFace:s.green14,difficulty:"normal",color:"green"},{id:"green15",cardFace:s.green15,difficulty:"normal",color:"green"},{id:"green16",cardFace:s.green16,difficulty:"easy",color:"green"},{id:"green17",cardFace:s.green17,difficulty:"easy",color:"green"},{id:"green18",cardFace:s.green18,difficulty:"easy",color:"green"}],c={azathoth:e.p+"assets/Ancients/Azathoth.png",cthulhu:e.p+"assets/Ancients/Cthulthu.png",iogSothoth:e.p+"assets/Ancients/IogSothoth.png",shubNiggurath:e.p+"assets/Ancients/ShubNiggurath.png"},d=[{id:"azathoth",name:"azathoth",cardFace:c.azathoth,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:2,blueCards:0,brownCards:4}},{id:"cthulhu",name:"cthulhu",cardFace:c.cthulhu,firstStage:{greenCards:0,blueCards:2,brownCards:2},secondStage:{greenCards:1,blueCards:0,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"iogSothoth",name:"iogSothoth",cardFace:c.iogSothoth,firstStage:{greenCards:0,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"shubNiggurath",name:"shubNiggurath",cardFace:c.shubNiggurath,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:3,blueCards:1,brownCards:2},thirdStage:{greenCards:2,blueCards:0,brownCards:4}}],i=document.querySelector(".button_shuffle"),l=document.querySelector(".deck"),g=document.querySelector(".tracker"),b=document.querySelector(".ancients"),u=g.children[0].lastElementChild.children,h=g.children[1].lastElementChild.children,f=g.children[2].lastElementChild.children,w=document.querySelector(".difficulties");let y=0,C=0,p=0,S=0,F=0,M=0,m={},k=[],E=[],_=[],v=[],x=[],z=[],L=[],j=0,A="";function N(){u[0].textContent=m.firstStage.greenCards,u[1].textContent=m.firstStage.brownCards,u[2].textContent=m.firstStage.blueCards,h[0].textContent=m.secondStage.greenCards,h[1].textContent=m.secondStage.brownCards,h[2].textContent=m.secondStage.blueCards,f[0].textContent=m.thirdStage.greenCards,f[1].textContent=m.thirdStage.brownCards,f[2].textContent=m.thirdStage.blueCards}function q(e,r,n){L[j].color===e&&(r[n].textContent=""+(r[n].textContent-1))}function O(e,r,n){for(let t=0;t<r;t++){let r=n.shift();e.push(r)}}function I(e){let r=new Set;for(;r.size!==e.length;){let n=P(e.length);r.add(e[n])}for(let e of r)L.push(e)}function $(e,r,n){let t=[],a=new Set;if(e.forEach((e=>{"very-easy"===A&&"easy"===e.difficulty&&t.push(e),"very-hard"===A&&"hard"===e.difficulty&&t.push(e)})),t.length<r){let n=new Set,a=[];for(e.forEach((e=>{"normal"===e.difficulty&&a.push(e)}));n.size<r-t.length;){let e=P(a.length);n.add(a[e])}for(let e of n)t.push(e)}if(t.length>r)for(let e=0;e<=t.length-r;e++){let e=P(t.length);t.splice(e,1)}for(;a.size!==t.length;){let e=P(t.length);a.add(t[e])}for(let e of a)n.push(e)}function B(e,r,n){let t=[],a=new Set;for(e.forEach((e=>{"easy"===A&&"hard"!==e.difficulty&&t.push(e),"hard"===A&&"easy"!==e.difficulty&&t.push(e)}));a.size!==r;){let e=P(t.length);a.add(t[e])}for(let e of a)n.push(e)}function T(e,r,n){let t=[],a=new Set;for(e.forEach((e=>{t.push(e)}));a.size!==r;){let e=P(t.length);a.add(t[e])}for(let e of a)n.push(e)}function P(e){return Math.floor(Math.random()*e)}b.addEventListener("click",(function(e){m={},S=0,F=0,M=0,j=0,y=0,C=0,p=0,k=[],E=[],_=[],v=[],x=[],z=[],L=[],l.style.backgroundImage="url('./assets/mythicCardBackground.png')";let r=e.target;r.classList.contains("ancients__ancient_azathoth")&&(m=d[0]),r.classList.contains("ancients__ancient_cthulthu")&&(m=d[1]),r.classList.contains("ancients__ancient_iogsothot")&&(m=d[2]),r.classList.contains("ancients__ancient_shubniggurath")&&(m=d[3]),S=+m.firstStage.greenCards+ +m.secondStage.greenCards+ +m.thirdStage.greenCards,F=+m.firstStage.brownCards+ +m.secondStage.brownCards+ +m.thirdStage.brownCards,M=+m.firstStage.blueCards+ +m.secondStage.blueCards+ +m.thirdStage.blueCards,N(),y=+m.firstStage.greenCards+ +m.firstStage.brownCards+ +m.firstStage.blueCards,C=+m.secondStage.greenCards+ +m.secondStage.brownCards+ +m.secondStage.blueCards,p=+m.thirdStage.greenCards+ +m.thirdStage.brownCards+ +m.thirdStage.blueCards})),i.addEventListener("click",(()=>{j=0,l.style.backgroundImage="url('./assets/mythicCardBackground.png')",0===Object.keys(m).length&&alert("Выберите Древнего!"),0!==Object.keys(m).length&&""===A&&alert("Выберите сложность!"),N(),console.log(A),k=[],E=[],_=[],("easy"===A||"hard"===A)&&(B(o,S,k),B(a,F,E),B(n,M,_)),"very-easy"!==A&&"very-hard"!==A||($(o,S,k),$(a,F,E),$(n,M,_)),"normal"===A&&(T(o,S,k),T(a,F,E),T(n,M,_)),v=[],x=[],z=[],O(v,m.firstStage.greenCards,k),O(v,m.firstStage.brownCards,E),O(v,m.firstStage.blueCards,_),O(x,m.secondStage.greenCards,k),O(x,m.secondStage.brownCards,E),O(x,m.secondStage.blueCards,_),O(z,m.thirdStage.greenCards,k),O(z,m.thirdStage.brownCards,E),O(z,m.thirdStage.blueCards,_),L=[],I(v),I(x),I(z)})),l.addEventListener("click",(()=>{console.log(A),0===Object.keys(m).length&&alert("Выберите Древнего!"),0!==Object.keys(m).length&&""===A&&alert("Выберите сложность!"),0!==Object.keys(m).length&&""!==A&&0===L.length&&alert("Перемешайте колоду!"),j<y&&(q("green",u,0),q("brown",u,1),q("blue",u,2)),j<C+y&&j>=y&&(q("green",h,0),q("brown",h,1),q("blue",h,2)),j>=C+y&&(q("green",f,0),q("brown",f,1),q("blue",f,2)),function(){let e=1;0!==L.length&&(l.style.backgroundImage=`url(${L[j].cardFace})`,e=j<L.length?1:0,j+=e)}()})),w.addEventListener("click",(e=>{!function(e){A=e.target.getAttribute("id")}(e)}))})();